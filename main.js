(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e.name,this._link=e.link,this._ownerId=e.owner._id,this._userId=a,this._templateSelector=n,this._handleCardClick=r,this._handleOpenPopup=o,this._likeNumber=i}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return console.log(this._templateSelector),document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".element__photo"),this._cardLike=this._element.querySelector(".element__like"),this._cardBasket=this._element.querySelector(".element__basket"),this._setEventListeners(),this._removeCardBasket(),this._element.querySelector(".element__title").textContent=this._name,this._element.querySelector(".element__like__counter").textContent=this._likeNumber,this._cardImage.src=this._link,this._cardImage.alt=this._name,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._cardLike.addEventListener("click",(function(){e._handleLike()})),this._element.querySelector(".element__basket").addEventListener("click",(function(){e._handleOpenPopup()})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"_handleLike",value:function(){this._cardLike.classList.toggle("element__like_active")}},{key:"_removeCardBasket",value:function(){this._ownerId!==this._userId&&this._cardBasket.remove()}},{key:"getView",value:function(){return this._element}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"_showInputError",(function(e){var t=o._form.querySelector("#".concat(e.id,"-error"));t.textContent=e.validationMessage,t.classList.add(o._errorClass),e.classList.add(o._inputErrorClass)})),r(this,"_hideInputError",(function(e){var t=o._form.querySelector("#".concat(e.id,"-error"));t.textContent=" ",t.classList.remove(o._errorClass),e.classList.remove(o._inputErrorClass)})),r(this,"_hasInvalidInput",(function(e){return Array.from(e).some((function(e){return!e.validity.valid}))})),r(this,"_toggleButtonError",(function(e){o._hasInvalidInput(o._inputs)?o.disableSubmitButton():o.enableSubmitButton()})),r(this,"_setInputListeners",(function(){o._inputs=o._form.querySelectorAll(o._inputSelector),o._submitButton=o._form.querySelector(o._submitButtonSelector),o._inputs.forEach((function(e){e.addEventListener("input",(function(){o._checkIfInputValid(e),o._toggleButtonError(o._submitButton)}))}))})),r(this,"enableValidation",(function(){o._form.addEventListener("submit",(function(e){e.preventDefault()})),o._setInputListeners()})),this._form=n,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass}var t,o;return t=e,(o=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonError(this._submitButton),this._inputs.forEach((function(t){e._hideInputError(t)}))}},{key:"disableSubmitButton",value:function(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}},{key:"enableSubmitButton",value:function(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}},{key:"_checkIfInputValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(e){var t=this;this.clear(),e.forEach((function(e){t._renderer(e)}))}},{key:"prependItem",value:function(e){this._container.prepend(e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this.close=this.close.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(t.target.classList.contains("popup__overlay")||t.target.classList.contains("close-button"))&&e.close()}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=p(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._popup.querySelector(".popup-picture__image"),t._description=t._popup.querySelector(".popup-picture__description"),t}return t=a,(n=[{key:"open",value:function(e,t){this._image.src=t,this._image.alt=e,this._description.textContent=e,f(_(a.prototype),"open",this).call(this)}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function w(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=t,n._submitButtonSelector=n._popup.querySelector(".submit-button"),n._inputList=Array.from(n._popup.querySelectorAll(".popup__input")),n._form=n._popup.querySelector(".popup__form"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;b(S(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){b(S(a.prototype),"close",this).call(this),this._form.reset()}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},C.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function I(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=t,n._submitButtonSelector=n._popup.querySelector(".submit-button"),n._form=n._popup.querySelector(".popup__form"),n}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;C(q(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit()}))}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){var n=t.name,r=t.about,o=t.avatar,i=t._id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._about=r,this._avatar=o,this._id=i}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._dataObject={name:this._name,about:this._about,avatar:this._avatar,id:this._id},this._dataObject}},{key:"setUserInfo",value:function(e){this._name=e.name,this._about=e.about,this._id=e._id}},{key:"setUserAvatar",value:function(e){this._avatar=e.avatar}},{key:"getId",value:function(){return this._id}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x=document.querySelector(".edit-button"),V=document.querySelector(".add-button"),U=document.querySelector(".form-edit"),A=document.querySelector(".form-add"),D=document.querySelector(".form-avatar"),z=document.querySelector(".field_type_name"),N=document.querySelector(".field_type_description"),F=document.querySelector(".popup-avatar__input"),H=document.querySelector(".profile__avatar"),J=document.querySelector(".profile__avatar__overlay"),M={name:document.querySelector(".profile__title").textContent,about:document.querySelector(".profile__subtitle").textContent,avatar:document.querySelector(".profile__avatar").src},G=document.querySelector(".elements"),K={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(t){var n=t.address,r=t.token;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._address=n,this._token=r}var t,n;return t=e,(n=[{key:"getCards",value:function(){return fetch("".concat(this._address,"/cards"),{headers:{authorization:this._token}}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}))}},{key:"sendCard",value:function(e){return fetch("".concat(this._address,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}))}},{key:"getProfileInfo",value:function(){return fetch("".concat(this._address,"//users/me"),{headers:{authorization:this._token}}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}))}},{key:"sendProfileInfo",value:function(e){return fetch("".concat(this._address,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}))}},{key:"sendAvatar",value:function(e){return fetch("".concat(this._address,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:e.avatar})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._address,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}))}}])&&Q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),X=new o(K,U),Y=new o(K,A);new o(K,D),X.enableValidation(),Y.enableValidation();var Z=new y(".popup-picture");Z.setEventListeners();var $=new O(".popup-edit",(function(e){oe.setUserInfo(e),ie.sendProfileInfo(oe.getUserInfo()).then((function(){$.close()})).catch((function(e){console.log("Ошибка при редактировании профиля".concat(e))})).finally((function(){X.disableSubmitButton()}))}));$.setEventListeners();var ee=new O(".popup-add",(function(e){ie.sendCard(e).then((function(e){var t=se(e);ae.prependItem(t),ee.close(),console.log(oe.getId())})).catch((function(e){console.log("Ошибка при добавлении карточки".concat(e))}))}));ee.setEventListeners();var te=new B(".popup-delete",(function(e,t){ie.deleteCard(t).then((function(){te.close(),e.remove()})).catch((function(e){console.log("Ошибка при добавлении карточки".concat(e))}))}));te.setEventListeners();var ne=new O(".popup-avatar",(function(e){oe.setUserAvatar(e),ie.sendAvatar(oe.getUserInfo()).then((function(){ne.close()})).catch((function(e){console.log("Ошибка при редактировании профиля".concat(e))}))}));ne.setEventListeners();var re,oe=new T(M);console.log(oe);var ie=new W({address:"https://mesto.nomoreparties.co/v1/cohort-35",token:"b6ff83c2-3ced-4557-872e-eefa9152b997"}),ae=new a({renderer:function(e){var t=se(e,e.likes.length);ae.addItem(t)}},G);function ue(e,t){Z.open(e,t)}function ce(){te.open()}function se(e,n){return new t(e,".element-template",ue,ce,n,re.getId()).generateCard()}ie.getCards().then((function(e){ae.renderItems(e)})).catch((function(e){console.log((function(e){console.log(e)}))})),ie.getProfileInfo().then((function(e){console.log("User id:",e._id);var t=(re=new T(e)).getUserInfo();document.querySelector(".profile__title").textContent=t.name,document.querySelector(".profile__avatar").alt=t.name,document.querySelector(".profile__avatar").src=t.avatar,document.querySelector(".profile__subtitle").textContent=t.about})).catch((function(e){console.log((function(e){console.log(e)}))})),V.addEventListener("click",(function(){ee.open(),Y.disableSubmitButton()})),x.addEventListener("click",(function(){var e;e=oe.getUserInfo(),z.value=e.name,N.value=e.about,$.open()})),H.addEventListener("mouseenter",(function(){J.classList.remove("profile__avatar__overlay_closed")})),H.addEventListener("mouseleave",(function(){J.classList.add("profile__avatar__overlay_closed")})),J.addEventListener("click",(function(){var e;e=oe.getUserInfo(),F.value=e.avatar,ne.open(),J.classList.add("profile__avatar__overlay_closed")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sU0FBQUMsR0FDTHZKLFFBQVFDLEtBQUksU0FBQXNKLEdBQ1Z2SixRQUFRQyxJQUFJc0osU0FpRGhCSixHQUFJMEIsaUJBQ0g5QyxNQUFLLFNBQUNsSixHQUNMbUIsUUFBUUMsSUFBSSxXQUFZcEIsRUFBS2EsS0FFN0IsSUFBTW9MLEdBRE5WLEdBQVUsSUFBSWhFLEVBQVN2SCxJQUNFd0ssY0FDekJuSixTQUFTQyxjQUFjLG1CQUFtQlUsWUFBY2lLLEVBQVN6TCxLQUNqRWEsU0FBU0MsY0FBYyxvQkFBb0JZLElBQU0rSixFQUFTekwsS0FDMURhLFNBQVNDLGNBQWMsb0JBQW9CVyxJQUFNZ0ssRUFBU3hFLE9BQzFEcEcsU0FBU0MsY0FBYyxzQkFBc0JVLFlBQWNpSyxFQUFTekUsU0FFckVpRCxPQUFNLFNBQUFDLEdBQ0x2SixRQUFRQyxLQUFJLFNBQUFzSixHQUNWdkosUUFBUUMsSUFBSXNKLFNBNENoQjVDLEVBQVUzRixpQkFBaUIsU0FBUyxXQXRGbEN5SSxHQUFTZSxPQUNUNUIsRUFBa0JuRyx5QkF3RnBCaUUsRUFBVzFGLGlCQUFpQixTQUFTLFdBM0NyQyxJQUNROEosRUFBQUEsRUFBVzdCLEdBQUtJLGNBQ3RCdEMsRUFBVWYsTUFBUThFLEVBQVN6TCxLQUMzQjJILEVBQVNoQixNQUFROEUsRUFBU3pFLE1BQzFCMkMsRUFBVXdCLFVBMENadEQsRUFBY2xHLGlCQUFpQixjQUFjLFdBQzNDbUcsRUFBZWpHLFVBQVVFLE9BQU8sc0NBR2xDOEYsRUFBY2xHLGlCQUFpQixjQUFjLFdBQzNDbUcsRUFBZWpHLFVBQVVVLElBQUksc0NBRy9CdUYsRUFBZW5HLGlCQUFpQixTQUFTLFdBdEJ6QyxJQUNROEosRUFBQUEsRUFBVzdCLEdBQUtJLGNBQ3RCcEMsRUFBVWpCLE1BQVE4RSxFQUFTeEUsT0FDM0IyRCxHQUFZTyxPQUNackQsRUFBZWpHLFVBQVVVLElBQUksdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95YW5kZXgubWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleC5tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8veWFuZGV4Lm1lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly95YW5kZXgubWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXgubWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly95YW5kZXgubWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3lhbmRleC5tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4Lm1lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8veWFuZGV4Lm1lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly95YW5kZXgubWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8veWFuZGV4Lm1lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlT3BlblBvcHVwLCBsaWtlTnVtYmVyLCB1c2VySWQpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVPcGVuUG9wdXAgPSBoYW5kbGVPcGVuUG9wdXA7XHJcbiAgICB0aGlzLl9saWtlTnVtYmVyID0gbGlrZU51bWJlcjtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpO1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fcGhvdG8nKTtcclxuICAgIHRoaXMuX2NhcmRMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZScpO1xyXG4gICAgdGhpcy5fY2FyZEJhc2tldCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2Jhc2tldCcpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3JlbW92ZUNhcmRCYXNrZXQoKTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2VfX2NvdW50ZXInKS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VOdW1iZXI7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZExpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2Jhc2tldCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVPcGVuUG9wdXAoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZSgpIHtcclxuICAgIHRoaXMuX2NhcmRMaWtlLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlQ2FyZEJhc2tldCgpIHtcclxuICAgIGlmKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICB0aGlzLl9jYXJkQmFza2V0LnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBmb3JtKSB7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGRhdGEuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGRhdGEuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gZGF0YS5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBkYXRhLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBkYXRhLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBkYXRhLmVycm9yQ2xhc3M7XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25FcnJvcih0aGlzLl9zdWJtaXRCdXR0b24pO1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkaXNhYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JNZXNzYWdlLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSAnICc7XHJcbiAgICBlcnJvck1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRzKSA9PiB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShpbnB1dHMpLnNvbWUoKGVsZW1lbnQpID0+ICFlbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25FcnJvciA9IChidXR0b24pID0+IHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRzKSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJZklucHV0VmFsaWQoaW5wdXQpIHtcclxuICAgIGlmIChpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldElucHV0TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faW5wdXRzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJZklucHV0VmFsaWQoaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbkVycm9yKHRoaXMuX3N1Ym1pdEJ1dHRvbik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldElucHV0TGlzdGVuZXJzKCk7XHJcbiAgfTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcblxyXG5cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHtyZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcblxyXG4gICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByZXBlbmRJdGVtKGNhcmQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xyXG4gIH1cclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpOyAvL9C/0YDQuNCy0Y/Qt9GL0LLQsNGOINC6INC60L7QvdC60YDQtdGC0L3QvtC80YMg0L/QvtC/0LDQv9GDXHJcbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX292ZXJsYXknKSB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UtYnV0dG9uJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtcGljdHVyZV9faW1hZ2UnKTtcclxuICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwLXBpY3R1cmVfX2Rlc2NyaXB0aW9uJyk7XHJcbiAgfVxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5zdWJtaXQtYnV0dG9uJyk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSk7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgfVxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuc3VibWl0LWJ1dHRvbicpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3Ioe25hbWUsIGFib3V0LCBhdmF0YXIsIF9pZH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fYWJvdXQgPSBhYm91dDtcclxuICAgIHRoaXMuX2F2YXRhciA9IGF2YXRhcjtcclxuICAgIHRoaXMuX2lkID0gX2lkO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICB0aGlzLl9kYXRhT2JqZWN0ID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLFxyXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLFxyXG4gICAgICBpZDogdGhpcy5faWRcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9kYXRhT2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2Fib3V0ID0gZGF0YS5hYm91dDtcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRhdGEuYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0SWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgZm9ybUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tYWRkJyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmllbGRfdHlwZV9uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWVsZF90eXBlX2Rlc2NyaXB0aW9uJyk7XHJcbmV4cG9ydCBjb25zdCBsaW5rSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtYXZhdGFyX19pbnB1dCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcl9fb3ZlcmxheScpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHVzZXJEZXNjcmlwdGlvbiA9IHtcclxuICBuYW1lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKS50ZXh0Q29udGVudCxcclxuICBhYm91dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3N1YnRpdGxlJykudGV4dENvbnRlbnQsXHJcbiAgYXZhdGFyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJykuc3JjLFxyXG4gIC8vIF9pZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfaWQnKS50ZXh0Q29udGVudFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVsZW1lbnRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzJyk7XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZSdcclxufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yICh7YWRkcmVzcywgdG9rZW59KSB7XHJcbiAgICB0aGlzLl9hZGRyZXNzID0gYWRkcmVzcztcclxuICAgIHRoaXMuX3Rva2VuID0gdG9rZW47XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaCAoYCR7dGhpcy5fYWRkcmVzc30vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlblxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAgJHtyZXMuc3RhdHVzfWApXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgc2VuZENhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLl9hZGRyZXNzfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgbGluazogZGF0YS5saW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAgJHtyZXMuc3RhdHVzfWApXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0UHJvZmlsZUluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuX2FkZHJlc3N9Ly91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKClcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9YClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBzZW5kUHJvZmlsZUluZm8oZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoIChgJHt0aGlzLl9hZGRyZXNzfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0LFxyXG4gICAgICAgIC8vIGF2YXRhcjogZGF0YS5hdmF0YXJcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKClcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9YClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBzZW5kQXZhdGFyKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaCAoYCR7dGhpcy5fYWRkcmVzc30vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAgJHtyZXMuc3RhdHVzfWApXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaCAoYCR7dGhpcy5fYWRkcmVzc30vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwICR7cmVzLnN0YXR1c31gKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG59IiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQge1xyXG4gIGVkaXRCdXR0b24sXHJcbiAgYWRkQnV0dG9uLFxyXG4gIGZvcm1FZGl0LFxyXG4gIGZvcm1BZGQsXHJcbiAgZm9ybUF2YXRhcixcclxuICBuYW1lSW5wdXQsXHJcbiAgam9iSW5wdXQsXHJcbiAgbGlua0lucHV0LFxyXG4gIHVzZXJEZXNjcmlwdGlvbixcclxuICBlbGVtZW50c0NvbnRhaW5lcixcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIHByb2ZpbGVPdmVybGF5LFxyXG4gIHZhbGlkYXRpb25Db25maWdcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuXHJcbi8vINCy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvFxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FZGl0KTtcclxuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtQWRkKTtcclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1BdmF0YXIpO1xyXG5cclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL9GB0L7Qt9C00LDQvdC40LUg0L/QvtC/0LDQv9CwLdC60LDRgNGC0LjQvdC60LhcclxuY29uc3QgcG9wdXBQaWN0dXJlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXAtcGljdHVyZScpO1xyXG5wb3B1cFBpY3R1cmUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vINC/0L7Qv9Cw0L8g0KDQldCU0JDQmtCi0JjQoNCe0JLQkNCd0JjQlVxyXG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwLWVkaXQnLCBzdWJtaXRQb3B1cEVkaXQpO1xyXG5wb3B1cEVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0L/QvtC/0LDQvyDQlNCe0JHQkNCS0JvQldCd0JjQlVxyXG5jb25zdCBwb3B1cEFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXAtYWRkJywgc3VibWl0UG9wdXBBZGQpO1xyXG5wb3B1cEFkZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8g0L/QvtC/0LDQvyDQo9CU0JDQm9CV0J3QmNCVIFxyXG5jb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3B1cFdpdGhDb25maXJtKCcucG9wdXAtZGVsZXRlJywgc3VibWl0UG9wdXBEZWxldGUpXHJcbnBvcHVwRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyDQv9C+0L/QsNC/INCQ0JLQkNCi0JDQoCBcclxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwLWF2YXRhcicsIHN1Ym1pdFBvcHVwQXZhdGFyKVxyXG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gY29uc29sZS5sb2codXNlckRlc2NyaXB0aW9uLmlkKTtcclxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyh1c2VyRGVzY3JpcHRpb24pO1xyXG5jb25zb2xlLmxvZyh1c2VyKTtcclxuXHJcbmxldCB1c2VyTmV3O1xyXG5cclxuLy8gQVBJXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBhZGRyZXNzOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0zNScsXHJcbiAgdG9rZW46ICdiNmZmODNjMi0zY2VkLTQ1NTctODcyZS1lZWZhOTE1MmI5OTcnXHJcbn0pO1xyXG5cclxuXHJcbi8vINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgY2FyZENvbnRhaW5lciA9IG5ldyBTZWN0aW9uKHtcclxuICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0sIGl0ZW0ubGlrZXMubGVuZ3RoKTtcclxuICAgIGNhcmRDb250YWluZXIuYWRkSXRlbShjYXJkKTtcclxuICB9LFxyXG59LCBlbGVtZW50c0NvbnRhaW5lcik7XHJcblxyXG5hcGkuZ2V0Q2FyZHMoKVxyXG4udGhlbigoY2FyZHMpID0+IHtcclxuICBjYXJkQ29udGFpbmVyLnJlbmRlckl0ZW1zKGNhcmRzKTtcclxufSlcclxuLmNhdGNoKGVyciA9PiB7XHJcbiAgY29uc29sZS5sb2coZXJyID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSlcclxufSkgXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xyXG4gIHBvcHVwUGljdHVyZS5vcGVuKG5hbWUsIGxpbmspO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVPcGVuUG9wdXAoKSB7XHJcbiAgcG9wdXBEZWxldGUub3BlbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEsIGxpa2VOdW1iZXIpIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgJy5lbGVtZW50LXRlbXBsYXRlJywgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVPcGVuUG9wdXAsIGxpa2VOdW1iZXIsIHVzZXJOZXcuZ2V0SWQoKSk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gb3BlblBvcHVwQWRkKCkge1xyXG4gIHBvcHVwQWRkLm9wZW4oKTtcclxuICBjYXJkRm9ybVZhbGlkYXRvci5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdFBvcHVwQWRkKGRhdGEpIHtcclxuICBhcGkuc2VuZENhcmQoZGF0YSlcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChyZXMpO1xyXG4gICAgY2FyZENvbnRhaW5lci5wcmVwZW5kSXRlbShjYXJkKTtcclxuICAgIHBvcHVwQWRkLmNsb3NlKCk7XHJcbiAgICBjb25zb2xlLmxvZyh1c2VyLmdldElkKCkpO1xyXG4gIH0pXHJcbiAgLmNhdGNoIChlcnIgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0LrQsNGA0YLQvtGH0LrQuCR7ZXJyfWApO1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdFBvcHVwRGVsZXRlKGNhcmQsIGNhcmRJZCkge1xyXG4gIGFwaS5kZWxldGVDYXJkKGNhcmRJZClcclxuICAudGhlbigoKSA9PiB7XHJcbiAgICBwb3B1cERlbGV0ZS5jbG9zZSgpO1xyXG4gICAgY2FyZC5yZW1vdmUoKTtcclxuICB9KVxyXG4gIC5jYXRjaCAoZXJyID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAg0L/RgNC4INC00L7QsdCw0LLQu9C10L3QuNC4INC60LDRgNGC0L7Rh9C60Lgke2Vycn1gKTtcclxuICB9KVxyXG59XHJcblxyXG4vLyDQv9GA0L7RhNC40LvRjCBcclxuXHJcbmFwaS5nZXRQcm9maWxlSW5mbygpXHJcbi50aGVuKChkYXRhKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJVc2VyIGlkOlwiLCBkYXRhLl9pZCk7XHJcbiAgdXNlck5ldyA9IG5ldyBVc2VySW5mbyhkYXRhKTtcclxuICBjb25zdCB1c2VySW5mbyA9IHVzZXJOZXcuZ2V0VXNlckluZm8oKTtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKS50ZXh0Q29udGVudCA9IHVzZXJJbmZvLm5hbWU7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpLmFsdCA9IHVzZXJJbmZvLm5hbWU7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpLnNyYyA9IHVzZXJJbmZvLmF2YXRhcjtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fc3VidGl0bGUnKS50ZXh0Q29udGVudCA9IHVzZXJJbmZvLmFib3V0O1xyXG59KVxyXG4uY2F0Y2goZXJyID0+IHtcclxuICBjb25zb2xlLmxvZyhlcnIgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KVxyXG59KSBcclxuXHJcbmZ1bmN0aW9uIG9wZW5Qb3B1cEVkaXQoKSB7XHJcbiAgY29uc3QgdXNlckluZm8gPSB1c2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgbmFtZUlucHV0LnZhbHVlID0gdXNlckluZm8ubmFtZTtcclxuICBqb2JJbnB1dC52YWx1ZSA9IHVzZXJJbmZvLmFib3V0O1xyXG4gIHBvcHVwRWRpdC5vcGVuKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdFBvcHVwRWRpdChkYXRhKSB7XHJcbiAgdXNlci5zZXRVc2VySW5mbyhkYXRhKTtcclxuICBhcGkuc2VuZFByb2ZpbGVJbmZvKHVzZXIuZ2V0VXNlckluZm8oKSlcclxuICAudGhlbigoKSA9PiB7XHJcbiAgICBwb3B1cEVkaXQuY2xvc2UoKTtcclxuICB9KVxyXG4gIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYNCe0YjQuNCx0LrQsCDQv9GA0Lgg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQuCDQv9GA0L7RhNC40LvRjyR7ZXJyfWApO1xyXG4gIH0pXHJcbiAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgZWRpdEZvcm1WYWxpZGF0b3IuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdFBvcHVwQXZhdGFyKGRhdGEpIHtcclxuICB1c2VyLnNldFVzZXJBdmF0YXIoZGF0YSk7XHJcbiAgYXBpLnNlbmRBdmF0YXIodXNlci5nZXRVc2VySW5mbygpKVxyXG4gIC50aGVuKCgpID0+IHtcclxuICAgIHBvcHVwQXZhdGFyLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goZXJyID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGDQntGI0LjQsdC60LAg0L/RgNC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Lgg0L/RgNC+0YTQuNC70Y8ke2Vycn1gKTtcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuUG9wdXBBdmF0YXIoKSB7XHJcbiAgY29uc3QgdXNlckluZm8gPSB1c2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgbGlua0lucHV0LnZhbHVlID0gdXNlckluZm8uYXZhdGFyO1xyXG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcclxuICBwcm9maWxlT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlX19hdmF0YXJfX292ZXJsYXlfY2xvc2VkJyk7XHJcbn1cclxuXHJcbi8vINGB0LvRg9GI0LDRgtC10LvQuFxyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgb3BlblBvcHVwQWRkKCk7XHJcbn0pO1xyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIG9wZW5Qb3B1cEVkaXQoKTtcclxufSk7XHJcbnByb2ZpbGVBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcclxuICBwcm9maWxlT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdwcm9maWxlX19hdmF0YXJfX292ZXJsYXlfY2xvc2VkJylcclxufSlcclxuXHJcbnByb2ZpbGVBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcclxuICBwcm9maWxlT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlX19hdmF0YXJfX292ZXJsYXlfY2xvc2VkJylcclxufSlcclxuXHJcbnByb2ZpbGVPdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIG9wZW5Qb3B1cEF2YXRhcigpO1xyXG59KVxyXG5cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZU9wZW5Qb3B1cCIsImxpa2VOdW1iZXIiLCJ1c2VySWQiLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX293bmVySWQiLCJvd25lciIsIl9pZCIsIl91c2VySWQiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlT3BlblBvcHVwIiwiX2xpa2VOdW1iZXIiLCJjb25zb2xlIiwibG9nIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2NhcmRJbWFnZSIsIl9jYXJkTGlrZSIsIl9jYXJkQmFza2V0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX3JlbW92ZUNhcmRCYXNrZXQiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtIiwiaW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJfZm9ybSIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJhZGQiLCJfZXJyb3JDbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dHMiLCJBcnJheSIsImZyb20iLCJzb21lIiwiZWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJidXR0b24iLCJfaGFzSW52YWxpZElucHV0IiwiX2lucHV0cyIsImRpc2FibGVTdWJtaXRCdXR0b24iLCJlbmFibGVTdWJtaXRCdXR0b24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiZm9yRWFjaCIsIl9jaGVja0lmSW5wdXRWYWxpZCIsIl90b2dnbGVCdXR0b25FcnJvciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfc2V0SW5wdXRMaXN0ZW5lcnMiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImlucHV0RWxlbWVudCIsIl9oaWRlSW5wdXRFcnJvciIsImRpc2FibGVkIiwiX3Nob3dJbnB1dEVycm9yIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYXBwZW5kIiwiaW5uZXJIVE1MIiwiaXRlbXMiLCJjbGVhciIsIml0ZW0iLCJjYXJkIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlIiwiX2Rlc2NyaXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dExpc3QiLCJfZm9ybVZhbHVlcyIsInZhbHVlIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhDb25maXJtIiwiVXNlckluZm8iLCJhYm91dCIsImF2YXRhciIsIl9hYm91dCIsIl9hdmF0YXIiLCJfZGF0YU9iamVjdCIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJmb3JtRWRpdCIsImZvcm1BZGQiLCJmb3JtQXZhdGFyIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJsaW5rSW5wdXQiLCJwcm9maWxlQXZhdGFyIiwicHJvZmlsZU92ZXJsYXkiLCJ1c2VyRGVzY3JpcHRpb24iLCJlbGVtZW50c0NvbnRhaW5lciIsInZhbGlkYXRpb25Db25maWciLCJBcGkiLCJhZGRyZXNzIiwidG9rZW4iLCJfYWRkcmVzcyIsIl90b2tlbiIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3B1cFBpY3R1cmUiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwRWRpdCIsInVzZXIiLCJzZXRVc2VySW5mbyIsImFwaSIsInNlbmRQcm9maWxlSW5mbyIsImdldFVzZXJJbmZvIiwiY2F0Y2giLCJlcnIiLCJmaW5hbGx5IiwicG9wdXBBZGQiLCJzZW5kQ2FyZCIsImNyZWF0ZUNhcmQiLCJjYXJkQ29udGFpbmVyIiwicHJlcGVuZEl0ZW0iLCJnZXRJZCIsInBvcHVwRGVsZXRlIiwiZGVsZXRlQ2FyZCIsInBvcHVwQXZhdGFyIiwic2V0VXNlckF2YXRhciIsInNlbmRBdmF0YXIiLCJ1c2VyTmV3IiwibGlrZXMiLCJsZW5ndGgiLCJhZGRJdGVtIiwib3BlbiIsImdlbmVyYXRlQ2FyZCIsImdldENhcmRzIiwiY2FyZHMiLCJyZW5kZXJJdGVtcyIsImdldFByb2ZpbGVJbmZvIiwidXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9